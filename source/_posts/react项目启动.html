---
layout: post
title: "react 项目启动"
subtitle: "Whether:sunny / Mood:am-normal, pm-bad / Especially: 1"
date: 2022-10-11 14:24:00
author: "lsm"
header-img: "/img/banner6.jpg"
tags:
- 前端开发
- 工具
---

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="bg">
        <div id="is-top">top</div>
        <div class="tips" style="display: flex; ">
            <div style="flex: 1;">
                <a href="#one">1. 初始化项目</a><br />
                <a href="#two">2. 组件库-antd-mobile</a><br />
                <a href="#three">3. 路由引入</a><br />
                <a href="#four">4. 样式调整</a><br />
                <a href="#five">5. 页面-两种布局页面</a><br />
                <a href="#six">6. 页面-嵌套路由</a><br />
                <a href="#seven">7. 页面-实现tabbar</a><br />
                <a href="#eight">8. 页面-实现首页</a><br />
                <a href="#nine">9. 功能-实现地理位置定位</a><br />
            </div>
            <div style="flex: 1;">
                <a href="#ten">10. JSX - jsx 条件渲染 、列表渲染 、 样式处理</a><br />
                <a href="#eleven">11. 组件化 - 组件的特点</a><br />
                <a href="#twelve">12. 组件化 - 组件的两种创建方式</a><br/>
                <a href="#thirteen">13. 组件化 - 组件的事件处理</a><br/>
                <a href="#fourteen">14. 组件化- 有状态组件 和 无状态组件</a><br/>
                <a href="#fifteen">15. 组件化-state和 setState</a><br/>
                <a href="#sixteen">16. 组件化-事件绑定中 this的指向解决方案</a><br/>
                <a href="#seventeen">17. 组件化 - 表单处理</a><br/>
            </div>
        </div>

        <section>
            <h2 class="title"> I. 项目搭建</h2>
            <article>
                <h4 class="detail-title">
                    <span id="one">初始化项目</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. 初始化项目： npx create-react-app 项目名
                    </li>
                    <li>
                        2. 启动项目： <span style="color: red">npm start</span>
                    </li>
                    <li>
                        3. manifest.json文件：  <span style="color: red">pwa 应用的元数据</span>
                    </li>
                    <li>
                        4. serviceWorker.js文件：  <span style="color: red">p用来实现pwa(可选)</span>
                    </li>
                    <li>
                        5. 调整目录： 
                        <div class="coding">
                            src/ <br/>
                                assets/  资源 <br/>
                                components/<br/>
                                pages/<br/>
                                utils/   工具<br/>
                                App.js 根组件<br/>
                                index.css 全局样式<br/>
                                index.js  项目入口文件<br/>
                        </div>
                    </li>
                </ul>
            </article>
            <article>
                <h4 class="detail-title">
                    <span id="two">组件库-antd-mobile</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. 安装： npm install  antd-mobile
                    </li>
                    <li>
                        2. 引入： <span style="color: red">import { Button } from 'antd-mobile</span>
                    </li>
                    <li>
                        3. 渲染组件：
                    </li>
                    <li>
                        4. index.js 导入样式：  import 'antd-mobile/dist/antd-mobile/css'
                    </li>
                </ul>
            </article>
            <article>
                <h4 class="detail-title">
                    <span id="three">路由引入</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. 安装： yarn add react-router-dom
                    </li>
                    <li>
                        2. index.js中引入： Router 、Route、 Link
                    </li>
                    <li>
                        3. 创建组件： Home/index.js  CityList/index.js
                    </li>
                    <li>
                        4. Route组件配置
                        <div class="coding">
                            {/* 配置导航菜单 */} <br/>
                            《Link to='/home'》 首页 《Link》"<br/>
                            《Link to='/city'》 城市选项 《/Link》<br/>
                            {/* 配置路由 */}<br/>
                            《Route path='/home' component={Home} 《/Route》<br/>
                            《Route path='/city' component={CityList} 《/Route》<br/>
                        </div>
                    </li>
                    <li>
                        5. 新版本配置：
                        <div style="text-indent: 30px;">在路由器包裹路由之前需要先在路由外侧添加Routes组件</div>
                        <div style="text-indent: 30px;">路由中的component需要改为element</div>
                        <div style="text-indent: 30px;">element后面需要写成组件标签形式</div>
                    </li>
                </ul>
            </article>
            <article>
                <h4 class="detail-title">
                    <span id="four">样式调整</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. 修改页面标题
                    </li>
                    <li>
                        2. 基础样式调整
                    </li>
                </ul>
            </article>
        </section>

        <section>
            <h2 class="title"> II. 项目整体布局</h2>
            <article>
                <h4 class="detail-title">
                    <span id="five">页面-两种布局页面</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. 有tabbar的页面： 首页、找房、资讯、我的 - 内部切换路由 - 嵌套路由
                    </li>
                    <li>
                        2. 没有tabbar的页面：城市列表
                    </li>
                </ul>
            </article>
            <article>
                <h4 class="detail-title">
                    <span id="six">页面-嵌套路由</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. 定义： 路由内部包含路由
                    </li>
                    <li>
                        2. 步骤：
                        <div style="text-indent: 30px;">a. 创建子组件</div>
                        <div style="text-indent: 30px;">b. 父组件中， 添加Route作为子组件出口</div>
                        <div style="text-indent: 30px;">c. 子路由的path， 以父路由的path开头（父展示，子才会展示）</div>
                        <div style="text-indent: 30px;">d. 子路由pathname值修改为对应的值</div>
                        <div style="text-indent: 30px;">e. / 重定向到首页</div>
                    </li>
                </ul>
            </article>
            <article>
                <h4 class="detail-title">
                    <span id="seven">页面-实现tabbar</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. 步骤：
                        <div style="text-indent: 30px;">a. tabbar组件： 打开antd-mobile的tabbar组件</div>
                        <div style="text-indent: 30px;">b. 拷贝代码： 拷贝核心代码到 Home组件中</div>
                    </li>
                    <li>
                        2. 调整：
                        <div style="text-indent: 30px;">a. 修改页面标题</div>
                        <div style="text-indent: 30px;">b. 修改图标</div>
                        <div style="text-indent: 30px;">c. 修改文字颜色</div>
                        <div style="text-indent: 30px;">d. 修改图标</div>
                        <div style="text-indent: 30px;">e. 刷新时要保证选中的高亮</div>
                    </li>
                    <li>
                        3. 最优代码：
                        <div style="text-indent: 30px;">a. 菜单数据： 单独提取</div>
                        <div style="text-indent: 30px;">b. map数据遍历item</div>
                    </li>
                </ul>
            </article>
            <article>
                <h4 class="detail-title">
                    <span id="eight">页面-实现首页</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. 轮播图Swiper步骤：
                        <div style="text-indent: 30px;">a. Swiper组件： 打开antd-mobile的Swiper组件（信息展示）</div>
                        <div style="text-indent: 30px;">b. 拷贝代码： 拷贝核心代码到 Home组件中</div>
                        <div style="text-indent: 30px;">c. 存在问题： 不会自动播放 以及 从其他路径返回时，高度不够</div>
                        <div style="text-indent: 30px;">d. 原因： 轮播图数据是动态加载的，加载完成前后轮播图数量不一致</div>
                        <div style="text-indent: 30px;">e. 解决方案-1：  在state 中添加表示数轮播图加载完成的数据, 加载完成变成true， 满足这个条件才加载轮播图</div>
                    </li>
                    <li>
                        2. 导航栏目flex布局步骤：
                        <div style="text-indent: 30px;">a. Swiper组件： 打开antd-mobile的Grid组件</div>
                        <div style="text-indent: 30px;">b. 拷贝代码： 拷贝核心代码到 Home组件中</div>
                    </li>
                    <li>
                        3. 安装sass： 
                        <div style="text-indent: 30px;">a. 安装： css-loader, style-loader, sass-loader, node-sass</div>
                        <div style="text-indent: 30px;">b. 作用：将sass 文件编译成css文件</div>
                    </li>
                    <li>
                        4. 顶部搜索： 
                    </li>
                </ul>
            </article>
            <article>
                <h4 class="detail-title">
                    <span id="nine">功能-实现地理位置定位</span>
                </h4>
                <ul class="ul-detail">
                    <li>
                        1. h5中的地理位置api: navagator.geolocation提供经纬度
                        <div style="text-indent: 30px;">a.谁提供的： navagator.geolocation对象提供</div>
                        <div style="text-indent: 30px;">b. 获取：  getCurrentPosition（）方法获取</div>
                        <div style="text-indent: 30px;" class="coding">
                            navagator.geolocation. getCurrentPosition（ position => {<br/>
                                // position  表示当前的位置信息： 包含经度和纬度<br/>
                            }）<br/>
                        </div>
                    </li>
                    <li>
                        2. 百度地图/高德地图 的 api：
                        <div style="text-indent: 30px;">a. 开发文档/web开发/javascript api： 打开antd-mobile的Grid组件</div>
                        <div style="text-indent: 30px;">b. 开发指南： 
                            <div style="text-indent: 60px;">1. 申请百度账号：登录百度账号 / 注册百度账号 - 开发指南 </div>
                            <div style="text-indent: 60px;">2. 创建ak密钥：控制台 - 应用管理 - 创建应用（类型： 浏览器） </div>
                            <div style="text-indent: 60px;">3. 在index.html中引入百度地图api： </div>
                            <div style="text-indent: 60px;">4. 全局样式修改： height: 100% </div>
                            <div style="text-indent: 60px;">5. 新建地图组件：  Map.js </div>
                            <div style="text-indent: 60px;">6. 新建map实例：  const map=new window.BMapGL.Map('container')</div>
                            <div style="text-indent: 60px;">7. 设置中心点坐标：  const point=new window.BMapGL.Point(116.404, 39.915)</div>
                            <div style="text-indent: 60px;">8. 初始化地图： map.centerAndZoom(point, 15)</div>
                        </div>
                        <div style="text-indent: 30px;">c. 获取城市定位： 
                            <div style="text-indent: 60px;">1. 获取ip定位：const city = new window.BMapGL.LocalCity()</div>
                            <div style="text-indent: 60px;">2. 获取当前城市： city.get( res => { console.log(res.name )}) </div>
                            <div style="text-indent: 60px;">3. 调用服务器接口： 获取对应城市信息</div>
                        </div>
                    </li>
                </ul>
            </article>
        </section>
    </div>
</body>
<script>
    var isTop = document.getElementById('is-top')
    isTop.addEventListener("click", function() {
        window.scrollTo(0, 0)
    })
</script>
</html>